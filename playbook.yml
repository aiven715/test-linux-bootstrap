---
- hosts: localhost
  become: yes
  pre_tasks:
    - set_fact: initial_load="{{ lookup('env', 'INITIAL_LOAD') }}"
    - pause:
        prompt: "Give user password"
        echo: no
      register: user_pass
      no_log: yes
      when: initial_load == True
    - set_fact: user_pass="{{ user_pass.user_input }}"
      when: initial_load == True
    - pacman:
        update_cache: yes
  roles:
    - { role: base }
    - { role: boot }
    - { role: locale }
    - { role: network }
    - { role: time }
    - { role: users }
    - { role: x11 }
